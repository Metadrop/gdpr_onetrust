
CONTENTS OF THIS FILE
---------------------

* INTRODUCTION
* INSTALLATION
* CONFIGURATION
* USAGE

INTRODUCTION
------------

The JS Cookie Blocking module used to block the webpage cookies based upon the active/Inactive status of the cookie category. It used the wrapper/helper functions provided by the OneTrust.


INSTALLATION
------------
 
 * This module is an sub module of gdpr_onetrust that REQUIRES gdpr_onetrust to be enabled.
 * Enable the module from admin/modules page.


CONFIGURATION
-------------

 * Navigate to the Configuration > System > GDPR Compliance > Configurations
 * Add Javascript URL along with the cookie category separated by | symbol. The cookie category values should be 2 for Performance cookie, 3 for Functional cookie, 4 for targetting cookie and 8 for media cookie. Update one JS url on each row. Example:/pathtojs/jsfilename.js|2
 * Add performance cookies generated by Google Analytics and cookie domain name separated by | symbol, one cookie on each row. Example:_ga|domainname.


 USAGE
 -----

 * We used the OneTrust Helper functions to block the cookies from clientside(Optanon.InsertHtml and Optanon.InsertScript).
 * To Block Js files from Site code - Create an object for the GdprBlockjs Class and call the optanonInsertscript() with proper arguments.
 	Eg:
 		$gdpr = GdprBlockjs::Instance();
 		  /*
		   * Function create Optanon.InsertScript
		   * $js_path => The javascript file path
		   * $js_group => The OneTrust Cookie Category values JS_COOKIE_BLOCKING_PERFORMANCE, JS_COOKIE_BLOCKING_FUNCTIONAL, JS_COOKIE_BLOCKING_TARGETTING, JS_COOKIE_BLOCKING_MEDIA
		   * $position => "head"
		   * $nobase => If base url needs to be appended pass TRUE else FALSE
		   * $$addjs => If the Optanon.InsertScript needs to be loaded outside the Optanon.Wrapper passs TRUE else FALSE
		   */
 		optanonInserthtml($element, $selector, $groupid, $addjs = FALSE);


 * To Block HTML Code - Create an object for the GdprBlockjs Class and call the optanonInserthtml() with proper arguments.
 		$gdpr = GdprBlockjs::Instance();
 		  /*
		   * Function create Optanon.InsertHtml
		   * $element => The HTML to be placed rendered through Optanon.InsertHtml(), that fires a third party cookie.
		   * $selector => The wrapper div id.
		   * $groupid => The OneTrust Cookie Category values JS_COOKIE_BLOCKING_PERFORMANCE, JS_COOKIE_BLOCKING_FUNCTIONAL, JS_COOKIE_BLOCKING_TARGETTING, JS_COOKIE_BLOCKING_MEDIA
		   * $addjs => If the Optanon.InsertScript needs to be loaded outside the Optanon.Wrapper passs TRUE else FALSE
		   */
		  $gdpr->optanonInserthtml($element, $selector, $groupid, $addjs = FALSE);
